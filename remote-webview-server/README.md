# 冬瓜甄选addons：远程网页渲染服务器

## 关于

一个无头浏览器，用来渲染HA网页（ Home Assistant 仪表盘），并通过 WebSocket 将这些页面以图块（image tiles）流式传输给轻量级客户端（如 ESP32 显示屏）。服务器支持多个客户端同时在线，每个客户端都有自己的屏幕分辨率、方向和独立的设备设置。

## 功能特性

- 在无头 Chromium 环境中渲染页面，并通过 WebSocket 推送图像块（image tiles）。
- 图块合并与变更检测，用于减少数据包数量和降低 CPU 负载。
- 支持定时、阈值、按需触发整帧回传。
- 可配置：图块大小、JPEG 质量、WS 消息大小、最小帧间隔等。
- 客户端独立参数：每个中控屏都可独立配置宽度、高度、tile大小、jpeg质量、每条消息最大字节数等。
- 热重配置：重新连接并传输新的参数，会重新配置该设备会话并触发一次整帧刷新。
- 更智能的帧节流：节流 + 内容哈希去重（跳过完全相同的帧）。
- 不使用 = 休眠：仍会 ACK 帧以保持 Chromium 渲染管线活跃，但在没有任何监听者时不会进行编码或队列处理。
- 触摸事件：按下、抬起、滑动（尚不支持复杂手势）。
- 客户端驱动导航：客户端可控制打开哪个页面。
- 内置自测页面，用于可视化和测量渲染时间。
- 健康检查接口，用于容器编排系统。
- 可选 DevTools 访问（通过 TCP 代理）。

## 来源
https://github.com/strange-v/RemoteWebViewServer